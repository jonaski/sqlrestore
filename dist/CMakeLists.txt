configure_file(${CMAKE_CURRENT_SOURCE_DIR}/scripts/maketarball.sh.in ${CMAKE_CURRENT_SOURCE_DIR}/scripts/maketarball.sh @ONLY)
if(RPM_DISTRO AND RPM_DATE)
  configure_file(${CMAKE_CURRENT_SOURCE_DIR}/unix/sqlrestore.spec.in ${CMAKE_CURRENT_SOURCE_DIR}/unix/sqlrestore.spec @ONLY)
endif(RPM_DISTRO AND RPM_DATE)
if(DEB_CODENAME AND DEB_DATE)
  configure_file(${CMAKE_SOURCE_DIR}/debian/changelog.in ${CMAKE_SOURCE_DIR}/debian/changelog)
endif(DEB_CODENAME AND DEB_DATE)

if(WIN32)
  configure_file(${CMAKE_CURRENT_SOURCE_DIR}/windows/sqlrestore.nsi.in ${CMAKE_CURRENT_SOURCE_DIR}/windows/sqlrestore.nsi @ONLY)
endif(WIN32)

if(UNIX AND NOT APPLE)
  install(FILES unix/sqlrestore.desktop DESTINATION share/applications)
  install(FILES ../data/icons/48x48/backup.png DESTINATION share/icons/hicolor/48x48/apps RENAME sqlrestore.png)
  install(FILES ../data/icons/64x64/backup.png DESTINATION share/icons/hicolor/64x64/apps RENAME sqlrestore.png)
  install(FILES ../data/icons/128x128/backup.png DESTINATION share/icons/hicolor/128x128/apps RENAME sqlrestore.png)
endif(UNIX AND NOT APPLE)

if(WIN32)
  configure_file(${CMAKE_CURRENT_SOURCE_DIR}/windows/sqlrestore.nsi.in ${CMAKE_CURRENT_SOURCE_DIR}/windows/sqlrestore.nsi @ONLY)
endif()
